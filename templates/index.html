{% load static %}
{% load crispy_forms_tags %}


<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>{% block titulo %}Gregori Azuaje | Backend web developer{% endblock titulo %}</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Gideon+Roman&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    </head>
    <body>
        <header id="header">
            <div id="header-carousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#header-carousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#header-carousel" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#header-carousel" data-bs-slide-to="2"></button>
                    <button type="button" data-bs-target="#header-carousel" data-bs-slide-to="3"></button>
                </div>
                <div class="carousel-inner h-100">
                    <div class="carousel-item active h-100" data-bs-interval="5000">
                        <img src="{% static 'images/portada.webp' %}" class="d-block w-100 h-100 img-fluid">
                    </div>
                    <div class="carousel-item h-100" data-bs-interval="5000">
                        <img src="{% static 'images/portada2.png' %}" class="d-block w-100 h-100 img-fluid">
                    </div>
                    <div class="carousel-item h-100" data-bs-interval="5000">
                        <img src="{% static 'images/portada5.jpeg' %}" class="d-block w-100 h-100 img-fluid">
                    </div>
                    <div class="carousel-item h-100" data-bs-interval="5000">
                        <img src="{% static 'images/portada3.png' %}" class="d-block w-100 h-100 img-fluid">
                    </div>
                </div>
            </div>
        </header>
        <nav id="navbar-menu" class="container-fluid position-sticky top-0 px-0">
            <div class="bg-success d-flex justify-content-between shadow py-2 w-100">
                <div id="navbar-menu-title" class="ms-3 text-white align-self-center flex-grow-1">
                    Gregori Azuaje Cabanerio | <small>{% block navbar_menu_work %}Django backend developer{% endblock navbar_menu_work %}</small>
                </div>
                <div class="align-self-center me-3" id="language-options">
                    <a href="{% url "main_page:main_page_view" "en" %}">EN</a>
                    <span class="text-white">|</span>
                    <a href="{% url "main_page:main_page_view" "es" %}">ES</a>
                </div>
                <button id="menu-nav-btn" class="btn btn-success me-2" data-bs-toggle="collapse" data-bs-target="#sections-list"
                aria-expanded=false>&#x2630</button>
            </div>
            <ul id="sections-list" class="container-fluid collapse">
                <a href="#about" class="text-white"><li class="py-2 w-100 text-center">{% block navbar_about %}About{% endblock navbar_about %}</li></a>
                <a href="#portfolio" class="text-white"><li class="py-2 w-100 text-center">{% block navbar_portfolio %}Portfolio{% endblock navbar_portfolio %}</li></a>
                <a href="#skills" class="text-white"><li class="py-2 w-100 text-center">{% block navbar_skills %}Skills{% endblock navbar_skills %}</li></a>
                <a href="#contact" class="text-white"><li class="py-2 w-100 text-center">{% block navbar_contact %}Contact{% endblock navbar_contact %}</li></a>
            </ul>
        </nav>
        <main>
            <section id="about" class="container-fluid">
                <h2 class="text-center my-5 py-5 text-success">{% block about_header %}About{% endblock about_header %}</h2>
                <div class="row">
                    <div id="about-meta-info" class="col-lg-4 mb-3">
                        <img src="{% static 'images/profile.jpeg' %}" class="img-fluid mx-auto d-block rounded-circle mb-3" style="height:15rem;" alt="profile-image">
                        <h1 class="text-center">Gregori Azuaje Cabanerio</h1>
                    </div>
                    <div id="about-description-info" class="col-lg-8 bg-success p-4 rounded-start shadow-lg">
                        <h3 class="text-center text-white mt-3">{% block about_info_header %}Django backend developer and python software programmer{% endblock about_info_header %}</h3>
                        <p class="text-white mt-5 fs-5">
                            {% block about_info %}
                            I am a crypto-trader and programmer with 1+ years of experience programming in Python and
                            currently dedicated to web development through Django, my main area of experience in web development right
                            now is focused in backend, however I also possess a bit of knowledge in CSS3 and Javascript
                            which allows me to create simple but functional animations in front-end.<br>
                            My main goal is to be specialized in python programming language however since I'm a lover 
                            of programming itself I am more than open to learn and work with any other technologies 
                            which allow me to grow in the field of web development and software development.
                            {% endblock about_info %}
                        </p>
                    </div>
                </div>
            </section>
            <section id="portfolio">
                <h2 class="text-center my-5 py-5 text-success">{% block portfolio_header %}Portfolio{% endblock portfolio_header %}</h2>
                <div class="container">
                    <div class="grid">
                        {% for project in projects %}
                        <div class="img-wrapper">
                            <img src="{{ project.project_image.url }}" alt="project-image" class="rounded blur" id="project-image">
                            <div class="project-content fade text-center">
                                <p class="text-center text-white h1">{{ project.name }}</p>
                                <p class="py-0 my-2"><strong class="text-white">{% block techs_used_text %}Technologies used:{% endblock techs_used_text %}</strong></p>
                                {% for technology in project.technologies.all %}
                                <p class="text-white py-0 my-0">{{ technology.name }}</p>
                                {% endfor %}
                                <a href="{{ project.link }}" class="d-block mt-3 project-link" target="_blank"><strong>{% block project_link_text %}Go to website{% endblock project_link_text %}</strong></a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>  
            </section>
            <section id="skills" class="bg-success py-5">
                <h2 class="text-center py-5 text-white">{% block skillset_header %}Skillset{% endblock skillset_header %}</h2>
                <div class="container-fluid p-5">
                    <div class="grid-skillset">
                        <div class="img-wrapper" data-bs-toggle="tooltip" data-bs-placement="top" title="Html5">
                            <img src="{% static 'images/html5.png' %}" alt="skill-html5">
                        </div>
                        <div class="img-wrapper" data-bs-toggle="tooltip" data-bs-placement="top" title="CSS3">
                            <img src="{% static 'images/css3.png' %}" alt="skill-css3">
                        </div>
                        <div class="img-wrapper" data-bs-toggle="tooltip" data-bs-placement="top" title="Javascript">
                            <img src="{% static 'images/javascript.jpg' %}" alt="skill-javacript">
                        </div>
                        <div class="img-wrapper" data-bs-toggle="tooltip" data-bs-placement="top" title="Python">
                            <img src="{% static 'images/python.png' %}" alt="skill-python">
                        </div>
                        <div class="img-wrapper" data-bs-toggle="tooltip" data-bs-placement="top" title="Django">
                            <img src="{% static 'images/django.jpg' %}" alt="skill-django">
                        </div>
                        <div class="img-wrapper" data-bs-toggle="tooltip" data-bs-placement="top" title="SQL">
                            <img src="{% static 'images/sql.png' %}" alt="skill-sql">
                        </div>
                    </div>
                </div>
            </section>
            <section id="contact" class="mb-3">
                <h2 class="text-center text-success">{% block contact_header %}Contact{% endblock contact_header %}</h2>
                <div class="container">
                    {% block contact_form %}
                    <form action="{% url 'main_page:main_page_view' lan %}" class="needs-validation" method="POST">
                        {{ csrf_token }}
                        {% include "main_page/includes/contact_form.html" with form=contact_form lan='en' %}
                    </form>
                    {% endblock contact_form %}
                </div>
            </section>
        </main>
        <footer class="d-flex bg-dark py-3 justify-content-between align-items-center">
            <nav class="ms-4">
                <a href="https://github.com/thehaseo" class="mx-2">
                    <img src="{% static 'images/github-icon.png' %}" alt="github-icon-link">
                </a>
                <a href="https://www.linkedin.com/in/gregori-azuaje-54448b233/" class="mx-2">
                    <img src="{% static 'images/linkedin-icon.png' %}" alt="linkedin-icon-link">
                </a>
                <a href="https://twitter.com/GregoriAzuaje2" class="mx-2">
                    <img src="{% static 'images/twitter-icon.png' %}" alt="twitter-icon-link">
                </a>
                <span class="mx-2 my-2 d-inline-block">
                    <a href="https://wa.link/ky2km9">
                        <img src="{% static 'images/whatsapp-icon.png' %}" alt="whatsapp-icon">
                        <span id="phone-number" class="text-white align-self-center">+58-412-2023643</span>
                    </a>
                </span>
            </nav>
            <span class="text-white me-4" id="footer-meta">{% block footer_span %}Designed and developed by Gregori Azuaje Cabanerio &copy;2022. All rights reserved{% endblock footer_span %}</span>  
        </footer>
        <div class="modal fade" id="success-form-modal" tabindex="-1" aria-labelledby="success-form-modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content bg-success">
                    <div class="modal-body p-4">
                        <button type="button" class="btn-close btn-dark float-end" data-bs-dismiss="modal" aria-label="Close"></button>
                        <p class="text-white mt-3">Thank you for submitting your message, I will be in contact with you as soon as possible.</p>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="{% static 'javascript/script.js' %}"></script>
        {% block form_submit_ajax_validation %}
        <script>
            $('#contact-form').on('submit', function(e) {
                $('#form-button').addClass('disabled');
                e.preventDefault();
              
                $.ajax({
                  type : 'POST',
                  url : '{% url "main_page:main_page_view" "en" %}',
                  data: {
                      name: $("#id_name").val(),
                      email: $('#id_email').val(),
                      message: $('#id_message').val(),
                      csrfmiddlewaretoken: '{{ csrf_token }}',
                      dataType: "json"
                  },
                  success: function(result, status, xhr){
                    
                    $('#contact-form').html(result.form_html)
                    $("#form-send-output").html("Your message has been sent, I will be contacting to your email as soon as I can")
                    .addClass("text-success fs-5");
                  },
                  error: function(xhr, status, error){
                    $("#contact-form").html(xhr.responseJSON.form_html)
                    console.log(xhr)
                    console.log(status)
                    console.log(error)
                    $("#form-send-output").html("There was a problem sending your message, please check you have filled all the fields and try again")
                    .addClass("text-danger fs-5")
                  }
                });
              });
        </script>
        {% endblock form_submit_ajax_validation %}
    </body>
</html>